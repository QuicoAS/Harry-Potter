{"version":3,"file":"hashCode.js","sourceRoot":"","sources":["../../../src/internal/hashCode.ts"],"names":[],"mappings":"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","sourcesContent":["/*!\r\n   Copyright 2022 Ron Buckton\r\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   you may not use this file except in compliance with the License.\r\n   You may obtain a copy of the License at\r\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n   Unless required by applicable law or agreed to in writing, software\r\n   distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   See the License for the specific language governing permissions and\r\n   limitations under the License.\r\n*/\r\n\r\nimport { xxh32 } from \"./hashers/xxhash32.js\";\r\nimport { xxh64, mem } from \"./hashers/xxhash64.js\";\r\nimport { utf8EncodeInto } from \"./utf8.js\";\r\n\r\nconst hasNativeBigInt = typeof BigInt === \"function\" && typeof BigInt(0) === \"bigint\";\r\nconst hasBigUint64Array = typeof BigUint64Array === \"function\";\r\nconst hasXXHash64 = typeof mem === \"object\" && typeof xxh64 === \"function\";\r\nconst converterBuffer = new ArrayBuffer(8);\r\nconst converterFloat64Array = new Float64Array(converterBuffer);\r\nconst converterUint32Array = new Uint32Array(converterBuffer);\r\n\r\nlet createHashString: () => (x: string) => number = () => (createHashString = createCreateHashString())();\r\nlet hashNumberCore: (x: number) => number = x => (hashNumberCore = createHashNumber())(x);\r\nlet hashBigIntCore: (x: bigint) => number = x => (hashBigIntCore = createHashBigInt())(x);\r\nlet hashStringCore: (x: string) => number = x => (hashStringCore = createHashString())(x);\r\nlet hashSymbolCore: (x: symbol) => number = x => (hashSymbolCore = createHashSymbol())(x);\r\nlet hashObjectCore: (x: object) => number = x => (hashObjectCore = createHashObject())(x);\r\n\r\nexport const hashNumber: (x: number) => number = x => hashNumberCore(x);\r\nexport const hashBigInt: (x: bigint) => number = x => hashBigIntCore(x);\r\nexport const hashString: (x: string) => number = x => hashStringCore(x);\r\nexport const hashSymbol: (x: symbol) => number = x => hashSymbolCore(x);\r\nexport const hashObject: (x: object) => number = x => hashObjectCore(x);\r\n\r\nfunction createCreateHashString() {\r\n    function createCreateSeededHashStringUsingXXHash64() {\r\n        const converterBigUint64Array = new BigUint64Array(converterUint32Array.buffer);\r\n        let memory = new Uint8Array(mem!.buffer);\r\n\r\n        function ensureCapacity(size: number) {\r\n            if (mem!.buffer.byteLength < size) {\r\n                mem!.grow(Math.ceil((size - mem!.buffer.byteLength) / 65536));\r\n                memory = new Uint8Array(mem!.buffer);\r\n            }\r\n        }\r\n\r\n        function convertBigUint64Hash(h: bigint) {\r\n            converterBigUint64Array[0] = h;\r\n            const a = converterUint32Array[0];\r\n            const b = converterUint32Array[1];\r\n            return ((a << 7) | (a >>> 25)) ^ b;\r\n        }\r\n\r\n        function getRandomBigUint64Seed() {\r\n            converterUint32Array[0] = getRandomUint32Seed();\r\n            converterUint32Array[1] = getRandomUint32Seed();\r\n            return converterBigUint64Array[0];\r\n        }\r\n\r\n        function hashStringSeeded(x: string, seed: bigint) {\r\n            ensureCapacity(x.length * 3);\r\n            const written = utf8EncodeInto(x, memory);\r\n            return convertBigUint64Hash(xxh64!(0, written, seed));\r\n        }\r\n\r\n        function createSeededHashString() {\r\n            const seed = getRandomBigUint64Seed();\r\n\r\n            function hashString(x: string) {\r\n                return hashStringSeeded(x, seed);\r\n            }\r\n\r\n            return hashString;\r\n        }\r\n\r\n        return createSeededHashString;\r\n    }\r\n\r\n    function createCreateSeededHashStringUsingXXHash32() {\r\n        let memory = new Uint8Array(65536);\r\n\r\n        function ensureCapacity(size: number) {\r\n            if (memory.byteLength < size) {\r\n                memory = new Uint8Array(size + (65536 - size % 65536));\r\n            }\r\n        }\r\n\r\n        function hashStringSeeded(x: string, seed: number) {\r\n            ensureCapacity(x.length * 3);\r\n            const written = utf8EncodeInto(x, memory);\r\n            return xxh32(memory.buffer, 0, written, seed) >> 0;\r\n        }\r\n\r\n        function createSeededHashString() {\r\n            const seed = getRandomUint32Seed();\r\n\r\n            function hashString(x: string) {\r\n                return hashStringSeeded(x, seed);\r\n            }\r\n\r\n            return hashString;\r\n        }\r\n\r\n        return createSeededHashString;\r\n    }\r\n\r\n    return hasNativeBigInt && hasBigUint64Array && hasXXHash64 ? createCreateSeededHashStringUsingXXHash64() :\r\n        createCreateSeededHashStringUsingXXHash32();\r\n}\r\n\r\nfunction createHashNumber() {\r\n    function hashFloat64(x: number) {\r\n        converterFloat64Array[0] = x;\r\n        const a = converterUint32Array[0];\r\n        const b = converterUint32Array[1];\r\n        return (((a << 7) | (a >>> 25)) ^ b) | 0;\r\n    }\r\n\r\n    function hashNumber(x: number) {\r\n        return x >> 0 === x ? x | 0 : hashFloat64(x);\r\n    }\r\n\r\n    return hashNumber;\r\n}\r\n\r\nfunction createHashBigInt() {\r\n    function createHashBigIntUsingBigUint64Array() {\r\n        const converterBigUint64Array = new BigUint64Array(converterBuffer);\r\n        const ZERO = BigInt(0);\r\n        const ONE = BigInt(1);\r\n        const TWO = BigInt(2);\r\n        const MAX_I32 = BigInt(2) ** BigInt(31) - BigInt(1);\r\n        const MIN_I32 = ~MAX_I32;\r\n        const SIZE_U64 = BigInt(64);\r\n\r\n        function hashBigInt(x: bigint) {\r\n            if (x === ZERO) return 0;\r\n            if (x >= MIN_I32 && x <= MAX_I32) return Number(x);\r\n            x = x < ZERO ? ~x * TWO + ONE : x * TWO;\r\n            let hash = 0;\r\n            while (x) {\r\n                converterBigUint64Array[0] = x;\r\n                hash = ((hash << 7) | (hash >>> 25)) ^ converterUint32Array[0];\r\n                hash = ((hash << 7) | (hash >>> 25)) ^ converterUint32Array[1];\r\n                x = x >> SIZE_U64;\r\n            }\r\n            return hash | 0;\r\n        }\r\n\r\n        return hashBigInt;\r\n    }\r\n\r\n    function createHashBigIntUsingNumberConstructor() {\r\n        const ZERO = BigInt(0);\r\n        const ONE = BigInt(1);\r\n        const TWO = BigInt(2);\r\n        const MAX_I32 = BigInt(2) ** BigInt(31) - BigInt(1);\r\n        const MIN_I32 = ~MAX_I32;\r\n        const SIZE_U32 = BigInt(32);\r\n        const U32_MASK = BigInt(\"0xFFFFFFFF\");\r\n\r\n        function hashBigInt(x: bigint) {\r\n            if (x === ZERO) return 0;\r\n            if (x >= MIN_I32 && x <= MAX_I32) return Number(x);\r\n            x = x < ZERO ? ~x * TWO + ONE : x * TWO;\r\n            let hash = 0;\r\n            while (x !== ZERO) {\r\n                hash = ((hash << 7) | (hash >>> 25)) ^ Number(x & U32_MASK);\r\n                x >>= SIZE_U32;\r\n                hash = ((hash << 7) | (hash >>> 25)) ^ Number(x & U32_MASK);\r\n                x >>= SIZE_U32;\r\n            }\r\n            return hash | 0;\r\n        }\r\n\r\n        return hashBigInt;\r\n    }\r\n\r\n    function createHashBigIntUsingToString() {\r\n        const hashBigIntString = createHashString();\r\n\r\n        function hashBigInt(x: bigint) {\r\n            return hashBigIntString(x.toString());\r\n        }\r\n\r\n        return hashBigInt;\r\n    }\r\n\r\n    return hasNativeBigInt && hasBigUint64Array ? createHashBigIntUsingBigUint64Array() :\r\n        hasNativeBigInt ? createHashBigIntUsingNumberConstructor() :\r\n        createHashBigIntUsingToString();\r\n}\r\n\r\nfunction createHashSymbol() {\r\n    interface MapLike<K, V> {\r\n        has(key: K): boolean;\r\n        get(key: K): V | undefined;\r\n        set(key: K, value: V): void;\r\n    }\r\n\r\n    const getDescription = \"description\" in Symbol.prototype ? (symbol: symbol) => symbol.description :\r\n        (symbol: symbol) => {\r\n            const s = symbol.toString();\r\n            return s.length >= 8 && s.slice(0, 7) === \"Symbol(\" && s.slice(-1) === \")\" ? s.slice(7, -1) : s;\r\n        };\r\n\r\n    const builtinSymbolHasher = createHashString();\r\n    let builtinSymbolHashes: MapLike<symbol, number>;\r\n    let builtinSymbols: MapLike<symbol, string>;\r\n    try {\r\n        new WeakMap().set(Symbol.iterator as any, null);\r\n        builtinSymbolHashes = new WeakMap<any, number>();\r\n        builtinSymbols = new WeakMap<any, string>();\r\n    }\r\n    catch {\r\n        builtinSymbolHashes = new Map();\r\n        builtinSymbols = new Map();\r\n    }\r\n\r\n    for (const key of Object.getOwnPropertyNames(Symbol)) {\r\n        if (typeof key === \"string\") {\r\n            const value = (Symbol as any)[key];\r\n            if (typeof value === \"symbol\") {\r\n                builtinSymbols.set(value, `Symbol.${key}`);\r\n            }\r\n        }\r\n    }\r\n\r\n    const registeredSymbolHasher = createHashString();\r\n    let registeredSymbolHashes: MapLike<symbol, number>;\r\n    try {\r\n        new WeakMap().set(Symbol.for(\"@esfx/equatable!~globalSymbolTest\") as any, null);\r\n        registeredSymbolHashes = new WeakMap<any, number>();\r\n    } catch {\r\n        registeredSymbolHashes = new Map();\r\n    }\r\n\r\n    const localSymbolHasher = createHashString();\r\n    let localSymbolHashes: MapLike<symbol, number>;\r\n    let localSymbolCounter = 1;\r\n    try {\r\n        new WeakMap().set(Symbol() as any, null);\r\n        localSymbolHashes = new WeakMap<any, number>();\r\n    }\r\n    catch {\r\n        localSymbolHashes = new Map();\r\n    }\r\n\r\n    function hashGlobalSymbol(symbol: symbol, key: string) {\r\n        let hash = registeredSymbolHashes.get(symbol);\r\n        if (hash === undefined) {\r\n            hash = registeredSymbolHasher(key);\r\n            registeredSymbolHashes.set(symbol, hash);\r\n        }\r\n        return hash;\r\n    }\r\n\r\n    function hashBuiltinSymbol(symbol: symbol, key: string) {\r\n        let hash = builtinSymbolHashes.get(symbol);\r\n        if (hash === undefined) {\r\n            hash = builtinSymbolHasher(key);\r\n            builtinSymbolHashes.set(symbol, hash);\r\n        }\r\n        return hash;\r\n    }\r\n\r\n    function hashLocalSymbol(symbol: symbol) {\r\n        let hash = localSymbolHashes.get(symbol);\r\n        if (hash === undefined) {\r\n            hash = localSymbolHasher(`${localSymbolCounter++}#${getDescription(symbol)}`);\r\n            localSymbolHashes.set(symbol, hash);\r\n        }\r\n        return hash;\r\n    }\r\n\r\n    function hashSymbol(x: symbol) {\r\n        const builtinKey = builtinSymbols.get(x);\r\n        if (builtinKey !== undefined) return hashBuiltinSymbol(x, builtinKey);\r\n\r\n        const globalKey = Symbol.keyFor(x);\r\n        if (globalKey !== undefined) return hashGlobalSymbol(x, globalKey);\r\n\r\n        return hashLocalSymbol(x);\r\n    }\r\n\r\n    return hashSymbol;\r\n}\r\n\r\nfunction createHashObject() {\r\n    const objectHashes = new WeakMap<object, number>();\r\n    const objectSeed = getRandomUint32Seed();\r\n    let objectCounter = 1;\r\n\r\n    // Thomas Wang, Integer Hash Functions.\r\n    // http://web.archive.org/web/20071223173210/http://www.concentric.net/~Ttwang/tech/inthash.htm\r\n    function hashUint32(key: number) {\r\n        key = ~key + (key << 15); // key = (key << 15) - key - 1;\r\n        key = key ^ (key >> 12);\r\n        key = key + (key << 2);\r\n        key = key ^ (key >> 4);\r\n        key = key * 2057; // key = (key + (key << 3)) + (key << 11);\r\n        key = key ^ (key >> 16);\r\n        return key >>> 0;\r\n    }\r\n\r\n    function hashObject(x: object) {\r\n        let hash = objectHashes.get(x);\r\n        if (hash === undefined) {\r\n            hash = hashUint32(objectCounter++ ^ objectSeed) ^ objectSeed;\r\n            objectHashes.set(x, hash);\r\n        }\r\n        return hash;\r\n    }\r\n\r\n    return hashObject;\r\n}\r\n\r\nfunction getRandomUint32Seed() {\r\n    return Math.floor(Math.random() * 0xffffffff) >>> 0;\r\n}\r\n"]}